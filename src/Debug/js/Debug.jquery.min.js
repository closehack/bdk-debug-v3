!function(g){"use strict";var p;function e(e){p=e.data("config").get(),e.on("click","[data-toggle=vis]",function(){var e,t,a,n,i;return e=g(this),t=e.data("vis"),a=e.closest(".object-inner"),n=a.find("[data-toggle=vis][data-vis="+t+"]"),i=a.find("."+t),e.is(".toggle-off")?(n.html(e.html().replace("show ","hide ")).addClass("toggle-on").removeClass("toggle-off"),i.each(function(){var n=g(this),e=n.closest(".object-inner"),i=!0;e.find("> .vis-toggles [data-toggle]").each(function(){var e=g(this),t=e.data("vis"),a=e.is(".toggle-on");if(!a&&n.hasClass(t))return i=!1}),i&&n.show()})):(n.html(e.html().replace("hide ","show ")).addClass("toggle-off").removeClass("toggle-on"),i.hide()),!1}),e.on("click","[data-toggle=interface]",function(){var e,t,a;return e=g(this),t=e.data("interface"),a=e.closest(".t_object").find("> .object-inner > dd[data-implements="+t+"]"),e.is(".toggle-off")?(e.addClass("toggle-on").removeClass("toggle-off"),a.show()):(e.addClass("toggle-off").removeClass("toggle-on"),a.hide()),!1})}function n(a){var i,e=a.parent(),t=0<a.children(".protected").not(".magic, .magic-read, .magic-write").length,n=0<a.children(".private").not(".magic, .magic-read, .magic-write").length,s=0<a.children(".debuginfo-excluded").hide().length,o=0<a.children(".inherited").length,l=e.data("accessible"),r="public"===l?"toggle-off":"toggle-on",d="public"===l?"show":"hide",c="",f=[];a.is(".enhanced")||(a.find(".method[data-implements]").hide().length&&(a.find(".method[data-implements]").each(function(){var e=g(this).data("implements");f.indexOf(e)<0&&f.push(e)}),g.each(f,function(e,t){a.find(".interface").each(function(){var e='<span class="toggle-off" data-toggle="interface" data-interface="'+t+'" title="toggle methods"><i class="fa fa-eye-slash"></i>'+t+"</span>";g(this).text()==t&&g(this).html(e)})})),e.find(".private, .protected").filter(".magic, .magic-read, .magic-write").removeClass("private protected"),"public"===l&&e.find(".private, .protected").hide(),t&&(c+=' <span class="'+r+'" data-toggle="vis" data-vis="protected">'+d+" protected</span>"),n&&(c+=' <span class="'+r+'" data-toggle="vis" data-vis="private">'+d+" private</span>"),s&&(c+=' <span class="toggle-off" data-toggle="vis" data-vis="debuginfo-excluded">show excluded</span>'),o&&(c+=' <span class="toggle-on" data-toggle="vis" data-vis="inherited">hide inherited methods</span>'),a.prepend('<span class="vis-toggles">'+c+"</span>"),i=a,g.each(p.iconsObject,function(e,t){var a=!0,n=t.match(/^([ap])\s*:(.+)$/);n&&(a="p"==n[1],t=n[2]),a?i.find(e).prepend(t):i.find(e).append(t)}),i.find("> .property > .fa:first-child, > .property > span:first-child > .fa").addClass("fa-fw"),a.find("> .property.forceShow").show().find("> .t_array-expand").each(function(){g(this).debugEnhance("expand")}),a.addClass("enhanced"))}function o(e){var i=g(e),t=i.find("> thead");return i.is("table.sortable")&&(i.addClass("table-sort"),t.on("click","th",function(){var e=g(this),t=g(this).closest("tr").children(),a=t.index(e),n="desc"===(e.is(".sort-asc")?"asc":"desc")?"asc":"desc";t.removeClass("sort-asc sort-desc"),e.addClass("sort-"+n),e.find(".sort-arrows").length||(t.find(".sort-arrows").remove(),e.append('<span class="fa fa-stack sort-arrows pull-right"><i class="fa fa-caret-up" aria-hidden="true"></i><i class="fa fa-caret-down" aria-hidden="true"></i></span>')),function(e,l,r){var t,a=e.tBodies[0],n=a.rows,d=/^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?)(?:[eE]([+\-]?\d+))?$/,c="function"==typeof Intl.Collator&&new Intl.Collator([],{numeric:!0,sensitivity:"base"});for(r="desc"===r?-1:1,n=(n=Array.prototype.slice.call(n,0)).sort(function(e,t){var a=e.cells[l].textContent.trim(),n=t.cells[l].textContent.trim(),i=a.match(d),s=n.match(d),o=0;return i&&(a=Number.parseFloat(a),i[2]&&(a=a.toFixed(6))),s&&(n=Number.parseFloat(n),s[2]&&(n=n.toFixed(6))),i&&s?a<n?o=-1:n<a&&(o=1):o=c?c.compare(a,n):a.localeCompare(n),r*o}),t=0;t<n.length;++t)a.appendChild(n[t])}(i[0],a,n)})),i}g=g&&g.hasOwnProperty("default")?g.default:g;var l,s,r,t,a,d=[],c=[];function f(i){l=i.data("config").get(),e(i),i.on("click",".close[data-dismiss=alert]",function(){g(this).parent().remove()}),i.on("click",".show-more-container .show-more",function(){var e=g(this).closest(".show-more-container");e.find(".show-more-wrapper").animate({height:e.find(".t_string").height()},400,"swing",function(){g(this).css("display","inline")}),e.find(".show-more-fade").fadeOut(),e.find(".show-more").hide(),e.find(".show-less").show()}),i.on("click",".show-more-container .show-less",function(){var e=g(this).closest(".show-more-container");e.find(".show-more-wrapper").css("display","block").animate({height:"70px"}),e.find(".show-more-fade").fadeIn(),e.find(".show-more").show(),e.find(".show-less").hide()}),i.on("config.debug.updated",function(e,t){var a,n;e.stopPropagation(),"linkFilesTemplate"==t&&(a=i,n=!l.linkFiles||0==l.linkFilesTemplate.length,a.find("li[data-detect-files]").each(function(){h(g(this),g(this).find(".t_string"),n)}))}),i.on("expand.debug.array",function(e){var t=g(e.target),a=t.closest("li[class*=m_]");e.stopPropagation(),d.push(t),t.find("> .array-inner > .key-value > :last-child").each(function(){w(a,this)})}),i.on("expand.debug.group",function(e){var t=g(e.target);e.stopPropagation(),m(t)}),i.on("expand.debug.object",function(e){var t=g(e.target),a=t.closest("li[class*=m_]");e.stopPropagation(),t.is(".enhanced")||(d.push(t),t.find("> .constant > :last-child,\t\t\t> .property > :last-child,\t\t\t> .method .t_string").each(function(){w(a,this)}),n(t))}),i.on("expanded.debug.array expanded.debug.group expanded.debug.object",function(e){var t,a;if(d.pop(),0==d.length){for(t=0,a=c.length;t<a;t++)v(c[t]);c=[]}})}function i(e){var t,a,n,i;for(i in l.iconsMisc)if((n=e.find(i)).length){if(a=g(l.iconsMisc[i]),n.find("> i:first-child").hasClass(a.attr("class"))){a=null;continue}n.prepend(a),a=null}if(e.data("icon"))a=g("<i>").addClass(e.data("icon"));else for(i in l.iconsMethods)if(e.is(i)){a=g(l.iconsMethods[i]);break}if(a){if(e.is(".m_group")?e=e.find("> .group-header .group-label").eq(0):e.find("> table").length&&((t=e.find("> table > caption")).length||(t=g("<caption>"),e.find("> table").prepend(t)),e=t),e.find("> i:first-child").hasClass(a.attr("class")))return;e.prepend(a)}}function u(e,t){var a={file:e,line:t||1};return l.linkFilesTemplate.replace(/%(\w*)\b/g,function(e,t){return a.hasOwnProperty(t)?a[t]:""})}function h(e,t,s){var a=!0===e.data("detectFiles"),o=e.data("foundFiles")||[],n=!1;if((l.linkFiles||s)&&!1!==a)if(e.is(".m_trace")){if(n=0<e.find(".file-link").length){if(s)return void e.find("table tr > *:last-child").remove()}else e.find("table thead tr > *:last-child").after("<th></th>");e.find("table tbody tr").each(function(){var e=g(this),t=e.find("> td"),a=g("<a>",{class:"file-link",href:u(t.eq(0).text(),t.eq(1).text()),html:'<i class="fa fa-fw fa-external-link"></i>',style:"vertical-align: bottom",title:"Open in editor"});n?e.find(".file-link").replaceWith(a):t.last().after(g("<td/>",{class:"text-center",html:a}))})}else{if(e.is("[data-file]"))return e.find("> .file-link").remove(),void(s||e.append(g("<a>",{html:'<i class="fa fa-external-link"></i>',href:u(e.data("file"),e.data("line")),title:"Open in editor",class:"file-link lpad"})[0].outerHTML));t||(t=[]),g.each(t,function(){var t,e=g(this),a=e[0].attributes,n=g.trim(e.text()),i=[];if(e.closest(".m_trace").length)return h(e.closest(".m_trace")),!1;(i=e.data("file")?[null,e.data("file"),e.data("line")||1]:0===o.indexOf(n)||e.is(".file")?[null,n,1]:n.match(/^(\/.+\.php)(?: \(line (\d+)\))?$/)||[]).length&&(t=s?g("<span>",{html:n}):g("<a>",{html:n+' <i class="fa fa-external-link"></i>',href:u(i[1],i[2]),title:"Open in editor"}),e.is("td")?e.html(s?n:t):(g.each(a,function(){var e=this.name;-1<["html","href","title"].indexOf(e)||t.attr(e,this.value)}),e.replaceWith(t)),s||t.addClass("file-link"))})}}function m(e){var t=e.prev(),a=!t.hasClass("group-header")||t.hasClass("expanded");d.push(e),e.hide(),e.children().each(function(){b(g(this))}),a&&e.show(),e.addClass("enhanced"),e.trigger("expanded.debug.group")}function b(e){e.is(".enhanced")||(e.is(".m_group")?function(e){var n=e.find("> .group-header"),t=n.next();i(e),i(n),n.attr("data-toggle","group"),g.each(["level-error","level-info","level-warn"],function(e,t){var a;n.hasClass(t)&&(a=n.children("i").eq(0),n.wrapInner('<span class="'+t+'"></span>'),n.prepend(a))}),n.removeClass("collapsed level-error level-info level-warn"),g.trim(t.html()).length<1&&e.addClass("empty");n.is(".expanded")||t.find(".m_error, .m_warn").not(".filter-hidden").length?n.debugEnhance("expand"):n.debugEnhance("collapse",!0)}(e):(e.is(".m_trace")?h(e):(e.data("file")&&(e.attr("title")||e.attr("title",e.data("file")+": line "+e.data("line")),h(e)),e.children().each(function(){w(e,this)})),i(e)),e.addClass("enhanced"),e.trigger("enhanced.debug"))}function v(e){var t,a;35<e.height()-70&&((a=e.wrap('<div class="show-more-wrapper"></div>').parent()).append('<div class="show-more-fade"></div>'),(t=a.wrap('<div class="show-more-container"></div>').parent()).append('<button type="button" class="show-more"><i class="fa fa-caret-down"></i> More</button>'),t.append('<button type="button" class="show-less" style="display:none;"><i class="fa fa-caret-up"></i> Less</button>'))}function w(e,t){var a=g(t);if(a.is(".t_array")?function(e){var t=e.prev().is(".t_array-expand"),a=g('<span class="t_array-expand" data-toggle="array"><span class="t_keyword">array</span><span class="t_punct">(</span> <i class="fa '+l.iconsExpand.expand+'"></i>&middot;&middot;&middot; <span class="t_punct">)</span></span>'),n=e.parentsUntil(".m_group",".t_object, .t_array").length;if(!t){if(g.trim(e.find(".array-inner").html()).length<1)return e.find("br").hide(),e.find(".array-inner").hide();e.find(".t_keyword").first().wrap('<span class="t_array-collapse expanded" data-toggle="array">').after('<span class="t_punct">(</span> <i class="fa '+l.iconsExpand.collapse+'"></i>').parent().next().remove(),e.before(a),0===n?e.debugEnhance("expand"):e.find(".t_array-collapse").first().debugEnhance("collapse")}}(a):a.is(".t_object")?a.find("> .classname").each(function(){var e=g(this),t=e.next(),a="object"==e.data("toggle");t.is(".t_recursion, .excluded")?e.addClass("empty"):a||(e.append(' <i class="fa '+p.iconsExpand.expand+'"></i>'),e.attr("data-toggle","object"),t.hide())}):a.is("table")?o(a):a.is(".t_string")&&(c.push(a),h(e,a)),a.is(".timestamp")){var n=a.find("i"),i=a.text(),s=g("<span>"+i+"</span>");a.is(".t_string")?s.addClass("t_string numeric"):a.is(".t_int")?s.addClass("t_int"):s.addClass("t_float"),a.is(".no-quotes")&&s.addClass("no-quotes"),a.removeClass("t_float t_int t_string numeric no-quotes"),a.html(n).append(s)}}function y(e){var t;(r=(s=e).data("config")).get("drawer")&&(s.addClass("debug-drawer"),(t=g(".debug-menu-bar")).before('\t\t<div class="debug-pull-tab" title="Open PHPDebugConsole"><i class="fa fa-bug"></i><i class="fa fa-spinner fa-pulse"></i> PHP</div>\t\t<div class="debug-resize-handle"></div>'),t.html('<i class="fa fa-bug"></i> PHPDebugConsole\t\t<div class="pull-right">\t\t\t<button type="button" class="close" data-dismiss="debug-drawer" aria-label="Close">\t\t\t\t<span aria-hidden="true">&times;</span>\t\t\t</button>\t\t</div>'),s.find(".debug-body").scrollLock(),s.find(".debug-resize-handle").on("mousedown",_),s.find(".debug-pull-tab").on("click",k),s.find(".debug-menu-bar .close").on("click",x),r.get("persistDrawer")&&r.get("openDrawer")&&k())}function k(){s.addClass("debug-drawer-open"),s.debugEnhance(),S(),g("body").css("marginBottom",s.height()+8+"px"),g(window).on("resize",S),r.get("persistDrawer")&&r.set("openDrawer",!0)}function x(){s.removeClass("debug-drawer-open"),g("body").css("marginBottom",""),g(window).off("resize",S),r.get("persistDrawer")&&r.set("openDrawer",!1)}function C(e){S(t+(a-e.pageY),!0)}function _(e){g(e.target).closest(".debug-drawer").is(".debug-drawer-open")&&(t=s.find(".debug-body").height(),a=e.pageY,g("html").addClass("debug-resizing"),s.parents().on("mousemove",C).on("mouseup",E),e.preventDefault())}function E(){g("html").removeClass("debug-resizing"),s.parents().off("mousemove",C).off("mouseup",E),g("body").css("marginBottom",s.height()+8+"px")}function S(e,t){var a=s.find(".debug-body"),n=s.find(".debug-menu-bar").outerHeight(),i=window.innerHeight-n-50;e&&"object"!=typeof e||(!(e=parseInt(a[0].style.height,10))&&r.get("persistDrawer")&&(e=r.get("height")),e||(e=100)),e=Math.min(e,i),e=Math.max(e,20),a.css("height",e),t&&r.get("persistDrawer")&&r.set("height",e)}g.fn.scrollLock=function(e){return(e=void 0===e||e)?this.on("DOMMouseScroll mousewheel wheel",function(e){var t=g(this),a=this.scrollTop,n=this.scrollHeight,i=t.innerHeight(),s=e.originalEvent.wheelDelta,o=0<s,l=function(){return e.stopPropagation(),e.preventDefault(),e.returnValue=!1};return!o&&n-i-a<-s?(t.scrollTop(n),l()):o&&a<s?(t.scrollTop(0),l()):void 0}):this.off("DOMMouseScroll mousewheel wheel")};var T,F,D=[],j=[function(e){var t=e.data("channel");return-1<D.indexOf(t)}],O=[function(e){var t=e.find("input[data-toggle=channel]");D=t.length?[]:[void 0],t.filter(":checked").each(function(){D.push(g(this).val()),g(this).data("isRoot")&&D.push(void 0)})}];function M(e){e.on("change","input[type=checkbox]",function(){var e=g(this),t=e.is(":checked"),a=e.closest("label").next("ul").find("input"),n=e.closest(".debug");"error"!=e.data("toggle")&&(a.prop("checked",t),function(e){var n;for(n in O)O[n](e);e.find("> .debug-body .m_alert, .group-body > *:not(.m_groupSummary)").each(function(){var e=g(this),t=!0,a=!1;if("phpError"!=e.data("channel")){for(n in j)if(!(t=j[n](e)))break;a=t&&e.is(".filter-hidden"),e.toggleClass("filter-hidden",!t),a&&e.is(":visible")&&e.debugEnhance()}}),e.find(".m_group.filter-hidden > .group-header:not(.expanded) + .group-body").debugEnhance()}(n),P(n))}),e.on("change","input[data-toggle=error]",function(){var e=g(this),t=e.closest(".debug"),a=e.val(),n=e.is(":checked"),i=".group-body .error-"+a;t.find(i).toggleClass("filter-hidden",!n),t.find(".m_error, .m_warn").parents(".m_group").find(".group-body").trigger("collapsed.debug.group"),P(t)}),e.on("channelAdded.debug",function(e){P(g(e.target).closest(".debug"))})}function P(e){var t=0<e.find(".debug-sidebar input:checkbox:not(:checked)").length;e.toggleClass("filter-active",t)}function I(e){var t=e+"=",a=document.cookie.split(";"),n=null,i=0;for(i=0;i<a.length;i+=1){for(n=a[i];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return null}function L(e,t,a){var n="",i=new Date;a&&(i.setTime(i.getTime()+24*a*60*60*1e3),n="; expires="+i.toGMTString()),document.cookie=e+"="+encodeURIComponent(t)+n+"; path=/"}function q(e){var t=e.split(".",2),a=window.localStorage.getItem(t[0]);if("string"!=typeof a||a.length<1)return null;try{a=JSON.parse(a)}catch(e){}return 1<t.length?a[t[1]]:a}var A,H,N,K=27;function R(t){var e;F=(T=t).data("config"),(e=T.find(".debug-menu-bar")).find(".pull-right").prepend('<button id="debug-options-toggle" type="button" data-toggle="debug-options" aria-label="Options" aria-haspopup="true" aria-expanded="false">\t\t\t<i class="fa fa-ellipsis-v fa-fw"></i>\t\t</button>'),e.append('<div class="debug-options" aria-labelledby="debug-options-toggle">\t\t\t<div class="debug-options-body">\t\t\t\t<label><input type="checkbox" name="debugCookie" /> Debug Cookie</label>\t\t\t\t<label><input type="checkbox" name="persistDrawer" /> Keep Open/Closed</label>\t\t\t\t<label><input type="checkbox" name="linkFiles" /> Create file links</label>\t\t\t\t<div class="form-group">\t\t\t\t\t<label for="linkFilesTemplate">Link Template</label>\t\t\t\t\t<input name="linkFilesTemplate" id="linkFilesTemplate" />\t\t\t\t</div>\t\t\t\t<hr class="dropdown-divider" />\t\t\t\t<a href="http://www.bradkent.com/php/debug" target="_blank">Documentation</a>\t\t\t</div>\t\t</div>'),F.get("drawer")||e.find("input[name=persistDrawer]").closest("label").remove(),g("#debug-options-toggle").on("click",function(e){g(".debug-options").is(".show")?z():(T.find(".debug-options").addClass("show"),g("body").on("click",B),g("body").on("keyup",J)),e.stopPropagation()}),g("input[name=debugCookie]").on("change",function(){g(this).is(":checked")?L("debug",F.get("debugKey"),7):L("debug","",-1)}).prop("checked",F.get("debugKey")&&I("debug")===F.get("debugKey")),F.get("debugKey")||g("input[name=debugCookie]").prop("disabled",!0).closest("label").addClass("disabled"),g("input[name=persistDrawer]").on("change",function(){var e=g(this).is(":checked");F.set({persistDrawer:e,openDrawer:e,openSidebar:!0})}).prop("checked",F.get("persistDrawer")),g("input[name=linkFiles]").on("change",function(){var e=g(this).prop("checked"),t=g("#linkFilesTemplate").closest(".form-group");e?t.slideDown():t.slideUp(),F.set("linkFiles",e),g("input[name=linkFilesTemplate]").trigger("change")}).prop("checked",F.get("linkFiles")).trigger("change"),g("input[name=linkFilesTemplate]").on("change",function(){var e=g(this).val();F.set("linkFilesTemplate",e),t.trigger("config.debug.updated","linkFilesTemplate")}).val(F.get("linkFilesTemplate"))}function B(e){0===T.find(".debug-options").find(e.target).length&&z()}function J(e){e.keyCode===K&&z()}function z(){T.find(".debug-options").removeClass("show"),g("body").off("click",B),g("body").off("keyup",J)}var U,W,V,G=!1;function $(e){var t,a;(A=e.data("config"),N=e,A.get("sidebar")&&Q(N),A.get("persistDrawer")&&!A.get("openSidebar")&&Y(N),N.on("click",".close[data-dismiss=alert]",function(){var e=g(this).closest(".debug");setTimeout(function(){e.find(".m_alert").length&&e.find(".debug-sidebar input[data-toggle=method][value=alert]").parent().addClass("disabled")})}),N.on("click",".sidebar-toggle",function(){var e=g(this).closest(".debug");e.find(".debug-sidebar").is(".show")?Y(e):X(e)}),N.on("change",".debug-sidebar input[type=checkbox]",function(e){var t=g(this),a=t.closest(".toggle"),n=a.next("ul").find(".toggle"),i=t.is(":checked"),s=g(".m_alert.error-summary.have-fatal");a.toggleClass("active",i),n.toggleClass("active",i),"fatal"==t.val()&&(s.find(".error-fatal").toggleClass("filter-hidden",!i),s.toggleClass("filter-hidden",0==s.children().not(".filter-hidden").length))}),G)||(t=function(e){A=(N=e).data("config")||g("body").data("config"),H=[],N.find("input[data-toggle=method]:checked").each(function(){H.push(g(this).val())})},O.push(t),a=function(e){var t=e[0].className.match(/\bm_(\S+)\b/)[1];return!A.get("sidebar")||("group"==t&&e.find("> .group-body")[0].className.match(/level-(error|info|warn)/)&&(t=e.find("> .group-body")[0].className.match(/level-(error|info|warn)/)[1],e.toggleClass("filter-hidden-body",H.indexOf(t)<0)),-1<["alert","error","warn","info"].indexOf(t)?-1<H.indexOf(t):-1<H.indexOf("other"))},j.push(a),G=!0)}function Q(e){var t=g('<div class="debug-sidebar show no-transition"></div>'),a=e.find(".debug-body > .expand-all");t.html('\t\t<div class="sidebar-toggle">\t\t\t<div class="collapse">\t\t\t\t<i class="fa fa-caret-left"></i>\t\t\t\t<i class="fa fa-ellipsis-v"></i>\t\t\t\t<i class="fa fa-caret-left"></i>\t\t\t</div>\t\t\t<div class="expand">\t\t\t\t<i class="fa fa-caret-right"></i>\t\t\t\t<i class="fa fa-ellipsis-v"></i>\t\t\t\t<i class="fa fa-caret-right"></i>\t\t\t</div>\t\t</div>\t\t<div class="sidebar-content">\t\t\t<ul class="list-unstyled debug-filters">\t\t\t\t<li class="php-errors">\t\t\t\t\t<span><i class="fa fa-fw fa-lg fa-code"></i>PHP Errors</span>\t\t\t\t\t<ul class="list-unstyled">\t\t\t\t\t</ul>\t\t\t\t</li>\t\t\t\t<li class="channels">\t\t\t\t\t<span><i class="fa fa-fw fa-lg fa-list-ul"></i>Channels</span>\t\t\t\t\t<ul class="list-unstyled">\t\t\t\t\t</ul>\t\t\t\t</li>\t\t\t</ul>\t\t\t<button class="expand-all" style="display:none;"><i class="fa fa-lg fa-plus"></i> Exp All Groups</button>\t\t</div>\t'),e.find(".debug-body").before(t),function(e){var n=e.find(".debug-sidebar .php-errors ul"),t=e.closest(".debug").find(".m_alert.error-summary"),a=t.hasClass("have-fatal");a&&n.append('<li><label class="toggle active">\t\t\t<input type="checkbox" checked data-toggle="error" value="fatal" />fatal <span class="badge">1</span>\t\t\t</label></li>');t.find("label").each(function(){var e=g(this).parent(),t=g(this).find("input"),a=t.val();n.append(g("<li>").append(g('<label class="toggle active">').html(t[0].outerHTML+a+' <span class="badge">'+t.data("count")+"</span>"))),e.remove()}),t.find("ul").filter(function(){return 0===g(this).children().length}).remove(),0===n.children().length&&n.parent().hide();a?t.find("h3").eq(1).remove():t.remove()}(e),function(e){var t=e.find(".debug-body .channels > ul > li"),a=e.find(".debug-sidebar .channels ul");a.append(t),0===a.children().length&&a.parent().hide();e.find(".debug-body .channels").remove()}(e),function(e){var t,a,n=e.find(".debug-filters"),i=e.find("> .debug-body .m_alert, .group-body > *"),s={alert:'<i class="fa fa-fw fa-lg fa-bullhorn"></i>Alerts',error:'<i class="fa fa-fw fa-lg fa-times-circle"></i>Error',warn:'<i class="fa fa-fw fa-lg fa-warning"></i>Warning',info:'<i class="fa fa-fw fa-lg fa-info-circle"></i>Info',other:'<i class="fa fa-fw fa-lg fa-sticky-note-o"></i>Other'};for(t in s)a="other"==t?0<i.not(".m_alert, .m_error, .m_warn, .m_info").length:0<i.filter(".m_"+t).not("[data-channel=phpError]").length,n.append(g("<li />").append(g('<label class="toggle active" />').toggleClass("disabled",!a).append(g("<input />",{type:"checkbox",checked:!0,"data-toggle":"method",value:t})).append(g("<span>").append(s[t]))))}(e),a.length&&(a.remove(),t.find(".expand-all").show()),setTimeout(function(){t.removeClass("no-transition")},500)}function Y(e){e.find(".debug-sidebar").removeClass("show").attr("style","").trigger("close.debug.sidebar"),A.set("openSidebar",!1)}function X(e){e.find(".debug-sidebar").addClass("show").trigger("open.debug.sidebar"),A.set("openSidebar",!0)}function Z(e){var t,a,n;U=(W=e).data("config").get(),W.find(".debug-menu-bar").append(g("<div />",{class:"pull-right"})),a=ee(W.data("channels"),W.data("channelRoot")),t=g("<fieldset />",{class:"channels"}).append("<legend>Channels</legend>").append(a),a.html().length&&W.find(".debug-body").prepend(t),function(){var e=g("<button>",{class:"expand-all"}).html('<i class="fa fa-lg fa-plus"></i> Expand All Groups');1<W.find(".m_group:not(.empty)").length&&W.find(".debug-log-summary").before(e);W.on("click",".expand-all",function(){return g(this).closest(".debug").find(".group-header").not(".expanded").each(function(){g(this).debugEnhance("expand")}),!1})}(),function(e){if(e.find(".debug-noti-wrap").length)return;e.append('<div class="debug-noti-wrap"><div class="debug-noti-table"><div class="debug-noti"></div></div></div>')}(g("body")),(n=W.find(".m_alert.error-summary")).find("h3:first-child").prepend(U.iconsMethods[".m_error"]),n.find("li[class*=error-]").each(function(){var e=g(this).attr("class").replace("error-",""),t=g(this).html(),a='<li><label><input type="checkbox" checked data-toggle="error" data-count="'+g(this).data("count")+'" value="'+e+'" /> '+t+"</label></li>";g(this).replaceWith(a)}),n.find(".m_trace").debugEnhance(),y(W),M(W),$(W),R(W),function(){var e,t={error:W.find(".m_error[data-channel=phpError]").length,warn:W.find(".m_warn[data-channel=phpError]").length},a=g("<span>",{class:"debug-error-counts"});t.error&&(e=g(U.iconsMethods[".m_error"]).removeClass("fa-lg").addClass("text-error"),a.append(e).append(g("<span>",{class:"badge",html:t.error})));t.warn&&(e=g(U.iconsMethods[".m_warn"]).removeClass("fa-lg").addClass("text-warn"),a.append(e).append(g("<span>",{class:"badge",html:t.warn})));W.find(".debug-pull-tab").append(a[0].outerHTML),W.find(".debug-menu-bar .pull-right").prepend(a)}(),W.find(".loading").hide(),W.addClass("enhanced")}function ee(e,t,a,n){var i,s,o,l=g('<ul class="list-unstyled">'),r="",d=!0;for(r in n=n||"",g.isArray(e)&&(e=function(e){var t,a,n,i,s,o={};for(e=e.sort(function(e,t){return e.name<t.name}),n=0;n<e.length;n++)for(a=o,t=e[n],s=t.name.split("."),i=0;i<s.length;i++)a[s[i]]||(a[s[i]]={options:{icon:i==s.length-1?t.icon:null,show:i==s.length-1?t.show:null},channels:{}}),a=a[s[i]].channels;return o}(e)),e)"phpError"!==r&&(o=e[r],d=void 0!==a?-1<a.indexOf(n+r):o.options.show,(s=g("<label>",{class:"toggle"}).append(g("<input>",{checked:d,"data-is-root":r==t,"data-toggle":"channel",type:"checkbox",value:n+r})).append(r)).toggleClass("active",d),i=g("<li>").append(s),o.options.icon&&i.find("input").after(g("<i>",{class:o.options.icon})),Object.keys(o.channels).length&&i.append(ee(o.channels,t,a,n+r+".")),l.append(i));return l}function te(e){V=e.data("config").get(),e.on("click","[data-toggle=array]",function(){return se(this),!1}),e.on("click","[data-toggle=group]",function(){return se(this),!1}),e.on("click","[data-toggle=object]",function(){return se(this),!1}),e.on("collapsed.debug.group",function(e){var t,a,n,i,s,o;t=g(e.target).prev(),a=".fa-times-circle, .fa-warning",n=t.parent(),i=t.next(),s=function(e){var t="";e.find(".m_error").not(".filter-hidden").length?t=V.iconsMethods[".m_error"]:e.find(".m_warn").not(".filter-hidden").length&&(t=V.iconsMethods[".m_warn"]);return t}(i),o=t.is(".expanded"),n.removeClass("empty"),s?(t.find(a).length?t.find(a).replaceWith(s):t.append(s),ie(t,o?V.iconsExpand.collapse:V.iconsExpand.expand)):(t.find(a).remove(),i.children().not(".m_warn, .m_error").length<1&&(n.addClass("empty"),ie(t,V.iconsExpand.empty)))})}function ae(e,t){var a,n=e.next(),i="array",s=V.iconsExpand.expand;e.is("[data-toggle=array]")?(n=(e=e.closest(".t_array").prev().show()).next()).hide():(i=e.is("[data-toggle=group]")?((a=n.find("> .m_groupEndValue > :last-child")).length&&0==e.find(".group-label").last().nextAll().length&&e.find(".group-label").last().after('<span class="t_operator"> : </span>'+a[0].outerHTML),"group"):"object",e.removeClass("expanded"),t?(n.hide(),ie(e,s)):n.slideUp("fast",function(){ie(e,s)})),n.trigger("collapsed.debug."+i)}function ne(e){var t=e.is("[data-toggle]"),a=t?e:e.prev(),n=t?e.next():e,i="array";a.is("[data-toggle=group]")?i="group":a.is("[data-toggle=object]")&&(i="object"),n.trigger("expand.debug."+i),"array"===i?(a.hide(),n.show(),n.trigger("expanded.debug."+i)):n.slideDown("fast",function(){var e=n.find("> .m_groupEndValue");a.addClass("expanded"),ie(a,V.iconsExpand.collapse),e.length&&a.find(".group-label").last().nextAll().remove(),setTimeout(function(){n.trigger("expanded.debug."+i)})})}function ie(e,a){var n=e.children("i").eq(0);e.is(".group-header")&&e.parent().is(".empty")&&(a=V.iconsExpand.empty),g.each(V.iconsExpand,function(e,t){n.toggleClass(t,t===a)})}function se(e){var t=g(e);t.is(".group-header")&&t.parent().is(".empty")||(t.is(".expanded")?ae(t):ne(t))}function oe(e,t){var a=null;e.useLocalStorage&&(a=q(t)),this.config=g.extend({},e,a||{}),this.haveSavedConfig="object"==typeof a,this.localStorageKey=t,this.localStorageKeys=["persistDrawer","openDrawer","openSidebar","height","linkFiles","linkFilesTemplate"]}function le(e,t){var a,n,i,s,o,l,r,d;for(i=e.length-1;0<=i;i--)(a=e[i]).check()?(a.onLoaded&&a.onLoaded(),e.splice(i,1)):"loading"==a.status||t||(a.status="loading","script"==(n=a.type||"script")?(l=a.src,d=r=void 0,r=document.getElementsByTagName("script")[0],(d=document.createElement("script")).src=l,r.parentNode.insertBefore(d,r)):"stylesheet"==n&&(s=a.src,o=void 0,(o=document.createElement("link")).type="text/css",o.rel="stylesheet",o.href=s,document.head.appendChild(o)))}oe.prototype.get=function(e){return void 0===e?JSON.parse(JSON.stringify(this.config)):void 0!==this.config[e]?this.config[e]:null};var re,de,ce,fe=!(oe.prototype.set=function(e,t){var a,n,i,s,o={},l={},r=!1;for(var d in"object"==typeof e?l=e:l[e]=t,l)this.config[d]=l[d];if(this.config.useLocalStorage){o=q(this.localStorageKey)||{},l.linkFilesTemplateDefault&&!o.linkFilesTemplate&&(this.config.linkFiles=l.linkFiles=!0,this.config.linkFilesTemplate=l.linkFilesTemplate=l.linkFilesTemplateDefault);for(var c=0,f=this.localStorageKeys.length;c<f;c++)void 0!==l[e=this.localStorageKeys[c]]&&(r=!0,o[e]=l[e]);r&&(a=this.localStorageKey,n=o,a=(s=a.split(".",2))[0],1<s.length&&((i=q(a)||{})[s[1]]=n,n=i),null!==n?("string"!=typeof n&&(n=JSON.stringify(n)),window.localStorage.setItem(a,n)):localStorage.removeItem(a))}this.haveSavedConfig=!0}),ge=new oe({fontAwesomeCss:"//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css",clipboardSrc:"//cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js",iconsExpand:{expand:"fa-plus-square-o",collapse:"fa-minus-square-o",empty:"fa-square-o"},iconsMisc:{".timestamp":'<i class="fa fa-calendar"></i>'},iconsObject:{"> .info.magic":'<i class="fa fa-fw fa-magic"></i>',"> .method.magic":'<i class="fa fa-fw fa-magic" title="magic method"></i>',"> .method.deprecated":'<i class="fa fa-fw fa-arrow-down" title="Deprecated"></i>',"> .method.inherited":'a: <i class="fa fa-fw fa-clone" title="Inherited"></i>',"> .property.debuginfo-value":'<i class="fa fa-eye" title="via __debugInfo()"></i>',"> .property.debuginfo-excluded":'<i class="fa fa-eye-slash" title="not included in __debugInfo"></i>',"> .property.private-ancestor":'<i class="fa fa-lock" title="private ancestor"></i>',"> .property > .t_modifier_magic":'<i class="fa fa-magic" title="magic property"></i>',"> .property > .t_modifier_magic-read":'<i class="fa fa-magic" title="magic property"></i>',"> .property > .t_modifier_magic-write":'<i class="fa fa-magic" title="magic property"></i>',"[data-toggle=vis][data-vis=private]":'<i class="fa fa-user-secret"></i>',"[data-toggle=vis][data-vis=protected]":'<i class="fa fa-shield"></i>',"[data-toggle=vis][data-vis=debuginfo-excluded]":'<i class="fa fa-eye-slash"></i>',"[data-toggle=vis][data-vis=inherited]":'<i class="fa fa-clone"></i>'},iconsMethods:{".group-header":'<i class="fa fa-lg fa-minus-square-o"></i>',".m_assert":'<i class="fa-lg"><b>&ne;</b></i>',".m_clear":'<i class="fa fa-lg fa-ban"></i>',".m_count":'<i class="fa fa-lg fa-plus-circle"></i>',".m_countReset":'<i class="fa fa-lg fa-plus-circle"></i>',".m_error":'<i class="fa fa-lg fa-times-circle"></i>',".m_info":'<i class="fa fa-lg fa-info-circle"></i>',".m_profile":'<i class="fa fa-lg fa-pie-chart"></i>',".m_profileEnd":'<i class="fa fa-lg fa-pie-chart"></i>',".m_time":'<i class="fa fa-lg fa-clock-o"></i>',".m_timeLog":'<i class="fa fa-lg fa-clock-o"></i>',".m_trace":'<i class="fa fa-list"></i>',".m_warn":'<i class="fa fa-lg fa-warning"></i>'},debugKey:function(){var e=null,t=function(e){var t,a={},n=/[?&]?([^&=]+)=?([^&]*)/g;for(void 0===e&&(e=document.location.search),e=e.split("+").join(" ");t=n.exec(e);)a[decodeURIComponent(t[1])]=decodeURIComponent(t[2]);return a}(),a=I("debug");void 0!==t.debug?e=t.debug:a&&(e=a);return e}(),drawer:!1,persistDrawer:!1,linkFiles:!1,linkFilesTemplate:"subl://open?url=file://%file&line=%line",useLocalStorage:!0},"phpDebugConsole");if(void 0===g)throw new TypeError("PHPDebugConsole's JavaScript requires jQuery.");re=[{src:ge.get("fontAwesomeCss"),type:"stylesheet",check:function(){var e,t,a,n=document.createElement("span");return n.className="fa",n.style.display="none",document.body.appendChild(n),e="FontAwesome"===(t=n,a="font-family",window.getComputedStyle(t,null).getPropertyValue(a)),document.body.removeChild(n),e}},{src:ge.get("clipboardSrc"),check:function(){return void 0!==window.ClipboardJS},onLoaded:function(){new ClipboardJS(".debug .t_string, .debug .t_int, .debug .t_float, .debug .t_key",{target:function(e){var t,a;return g(e).is("a")?g("<div>")[0]:window.getSelection().toString().length?(t=window.getSelection().getRangeAt(0),setTimeout(function(){window.getSelection().addRange(t)}),g("<div>")[0]):(a="Copied to clipboard",g(".debug-noti").html(a).addClass("animate").closest(".debug-noti-wrap").show(),e)}})}}],ce=1,re.reverse(),1==document.getElementsByTagName("body")[0].childElementCount?le(re):le(re,!0),de=setInterval(function(){le(re,10===ce),0===re.length?clearInterval(de):20===ce&&clearInterval(de),ce++},500),g.fn.debugEnhance=function(e,t,a){var n=this;if("sidebar"===e)"add"==t?Q(n):"open"==t?X(n):"close"==t&&Y(n);else{if("buildChannelList"===e)return ee(t,a,arguments[3]);if("collapse"===e)ae(n,t);else if("expand"===e)ne(n);else if("init"===e){var i=new oe(ge.get(),"phpDebugConsole");n.data("config",i),i.set(n.eq(0).data("options")||{}),"object"==typeof t&&i.set(t),f(n),te(n),function(e){if(fe)return;g("body").on("animationend",".debug-noti",function(){g(this).removeClass("animate").closest(".debug-noti-wrap").hide()}),fe=!0}(),Z(n),i.get("drawer")||n.debugEnhance()}else"setConfig"==e?"object"==typeof t&&(ge.set(t),g(this).find(".debug-log.enhanced").closest(".debug").trigger("config.debug.updated","linkFilesTemplate")):this.each(function(){var e=g(this);e.is(".debug")?(e.find(".debug-log-summary, .debug-log").show(),e.find(".m_alert, .debug-log-summary, .debug-log").debugEnhance()):e.is(".enhanced")||(e.is(".group-body")?m(e):b(e))})}return this},g(function(){g(".debug").each(function(){g(this).debugEnhance("init")})})}(window.jQuery);
